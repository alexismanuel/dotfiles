{
  "version": "1.1",
  "description": "Skill activation triggers for OpenCode. Controls when skills automatically suggest activation. Includes process skills (brainstorming, debugging, verification) that should trigger BEFORE domain skills.",
  "skills": {
    "verification-before-completion": {
      "type": "process",
      "enforcement": "critical",
      "priority": "critical",
      "description": "Evidence before claims - no completion without fresh verification",
      "promptTriggers": {
        "keywords": [
          "done",
          "complete",
          "finished",
          "fixed",
          "works now",
          "passes now",
          "all tests pass",
          "ready to merge",
          "ready for review",
          "ship it",
          "LGTM"
        ],
        "intentPatterns": [
          "(it|that|this|everything).*?(works|passes|fixed|complete)",
          "(all|tests?).*?(pass|green|passing)",
          "(ready|done|complete|finished)",
          "(bug|issue|problem).*?(fixed|resolved|solved)",
          "should.*?(work|pass|be fixed)",
          "(create|open|submit).*?(PR|MR|pull request|merge request)"
        ]
      }
    },
    "systematic-debugging": {
      "type": "process",
      "enforcement": "critical",
      "priority": "critical",
      "description": "Root cause investigation before fixes - no guessing",
      "promptTriggers": {
        "keywords": [
          "bug",
          "error",
          "failed",
          "failing",
          "broken",
          "not working",
          "doesn't work",
          "crash",
          "exception",
          "issue",
          "problem",
          "debug",
          "fix"
        ],
        "intentPatterns": [
          "(fix|debug|solve|resolve).*?(bug|error|issue|problem)",
          "(test|build|compile).*?(fail|error|broken)",
          "(why|what).*?(not working|failing|broken|error)",
          "getting.*?(error|exception|crash)",
          "(unexpected|wrong).*?(behavior|result|output)",
          "investigate.*?(issue|problem|bug)",
          "troubleshoot"
        ]
      }
    },
    "brainstorming": {
      "type": "process",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Explore requirements and design before implementation",
      "promptTriggers": {
        "keywords": [
          "brainstorm",
          "add feature",
          "new feature",
          "implement",
          "build",
          "create",
          "design",
          "architecture",
          "how should",
          "best way to",
          "approach"
        ],
        "intentPatterns": [
          "(add|create|build|implement|design).*?(feature|component|module|system)",
          "(want|need|would like).*?(to add|to build|to create|to implement)",
          "how.*?(should|would|could).*?(implement|build|design|approach)",
          "(best|good|right).*?(way|approach|pattern).*?(to|for)",
          "(new|add).*?(functionality|capability|feature)",
          "let'?s.*?(build|create|add|implement)"
        ]
      }
    },
    "git-commit-helper": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Generate descriptive commit messages by analyzing git diffs",
      "promptTriggers": {
        "keywords": [
          "commit",
          "git commit",
          "commit message",
          "staged changes",
          "git diff"
        ],
        "intentPatterns": [
          "(create|write|generate|help).*?commit",
          "commit.*?(message|description)",
          "(review|analyze).*?(staged|changes|diff)"
        ]
      }
    },
    "mr-generator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Generates intelligent GitLab merge request descriptions",
      "promptTriggers": {
        "keywords": [
          "merge request",
          "MR",
          "pull request",
          "PR",
          "gitlab"
        ],
        "intentPatterns": [
          "(create|generate|write).*?(merge request|MR|pull request|PR)",
          "(MR|PR).*?(description|summary)"
        ]
      }
    },
    "jira-ticket-creator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Create Jira tickets for the RD project",
      "promptTriggers": {
        "keywords": [
          "jira",
          "ticket",
          "create ticket",
          "new ticket",
          "bug ticket",
          "feature ticket"
        ],
        "intentPatterns": [
          "(create|make|open|file).*?(jira|ticket|issue)",
          "jira.*?(ticket|issue|bug|feature)"
        ]
      }
    },
    "jira-ticket-fetcher": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "medium",
      "description": "Fetch Jira ticket content by ID or search",
      "promptTriggers": {
        "keywords": [
          "fetch ticket",
          "get ticket",
          "find ticket",
          "RD-"
        ],
        "intentPatterns": [
          "(fetch|get|find|show|look up).*?(jira|ticket)",
          "RD-\\d+",
          "ticket.*?(details|info|status)"
        ]
      }
    },
    "duckdb-data-explorer": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Local data exploration and analysis using DuckDB",
      "promptTriggers": {
        "keywords": [
          "duckdb",
          "data analysis",
          "csv",
          "parquet",
          "data exploration",
          "analyze data",
          "query data"
        ],
        "intentPatterns": [
          "(analyze|explore|query|read).*?(data|csv|parquet|json)",
          "data.*?(analysis|exploration|profiling)",
          "(load|import|read).*?(file|dataset)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/*.csv",
          "**/*.parquet",
          "**/*.json"
        ]
      }
    },
    "mcp-builder": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Guide for creating MCP servers",
      "promptTriggers": {
        "keywords": [
          "mcp",
          "mcp server",
          "model context protocol",
          "fastmcp"
        ],
        "intentPatterns": [
          "(create|build|implement).*?mcp",
          "mcp.*?(server|tool|integration)"
        ]
      }
    },
    "skill-creator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Guide for creating effective skills",
      "promptTriggers": {
        "keywords": [
          "create skill",
          "new skill",
          "skill creation",
          "write skill",
          "SKILL.md"
        ],
        "intentPatterns": [
          "(create|write|make|build).*?skill",
          "skill.*?(template|guide|creation)"
        ]
      }
    },
    "mr-tracker": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Tracks and monitors GitLab merge request activity including comments, status, and real-time updates",
      "promptTriggers": {
        "keywords": [
          "MR comments",
          "merge request comments",
          "watch MR",
          "MR status",
          "MR activity",
          "track MR",
          "monitor MR"
        ],
        "intentPatterns": [
          "(watch|monitor|track).*?(MR|merge request)",
          "(MR|merge request).*?(comments|activity|status)",
          "(show|get|fetch).*?(MR|merge request).*?comments"
        ]
      }
    },
    "artifacts-builder": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Suite of tools for creating elaborate, multi-component HTML artifacts using React, Tailwind CSS, shadcn/ui",
      "promptTriggers": {
        "keywords": [
          "artifact",
          "HTML artifact",
          "react artifact",
          "shadcn",
          "bundle HTML",
          "single file HTML",
          "frontend artifact"
        ],
        "intentPatterns": [
          "(create|build|make).*?artifact",
          "artifact.*?(react|HTML|bundle)",
          "(bundle|package).*?(HTML|frontend)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/bundle.html",
          "**/init-artifact.sh",
          "**/bundle-artifact.sh"
        ]
      }
    },
    "codemap-generator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Generate hierarchical code maps from any codebase for AI agent consumption",
      "promptTriggers": {
        "keywords": [
          "codemap",
          "code map",
          "codebase structure",
          "codebase analysis",
          "dependency map",
          "class hierarchy",
          "call graph",
          "project structure",
          "architecture map"
        ],
        "intentPatterns": [
          "(generate|create|build).*?(codemap|code map)",
          "(analyze|understand|map).*?(codebase|project|architecture)",
          "(dependency|class|call).*?(map|graph|hierarchy)",
          "(onboard|explore).*?(codebase|project)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/CODEMAP.md",
          "**/codemap.py"
        ]
      }
    },
    "dagster-local": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Interact with Dagster data orchestration platform running locally or on Kubernetes",
      "promptTriggers": {
        "keywords": [
          "dagster",
          "dagster run",
          "dagster job",
          "dagster asset",
          "materialize asset",
          "pipeline run",
          "dagster logs",
          "run logs"
        ],
        "intentPatterns": [
          "(list|get|show|check).*?(dagster|run|asset|job)",
          "(launch|start|trigger).*?(job|run|pipeline|asset)",
          "(materialize|refresh).*?asset",
          "dagster.*?(status|logs|failure|error)",
          "(debug|troubleshoot).*?(run|pipeline|dagster)"
        ]
      }
    },
    "docker-agents": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Spawn and manage sandboxed OpenCode coding agents in Docker containers",
      "promptTriggers": {
        "keywords": [
          "spawn agent",
          "docker agent",
          "coding agent",
          "agent container",
          "sandbox agent",
          "parallel agents",
          "multi-agent",
          "agent orchestration",
          "isolated worker",
          "opencode container"
        ],
        "intentPatterns": [
          "(spawn|create|start|launch).*?agent",
          "(docker|container).*?(agent|worker)",
          "(orchestrate|parallelize|delegate).*?(agent|task|worker)",
          "(sandbox|isolate).*?(code|execution|agent)",
          "multi.*?agent.*?(workflow|task)",
          "(manage|terminate|cleanup).*?agent"
        ]
      }
    },
    "python-testing-guidelines": {
      "type": "process",
      "enforcement": "critical",
      "priority": "critical",
      "description": "Enforces dummy-class pattern over unittest.mock when writing or reviewing Python tests",
      "promptTriggers": {
        "keywords": [
          "test",
          "tests",
          "pytest",
          "unittest",
          "mock",
          "fixture",
          "test case",
          "test file",
          "write test",
          "add test",
          "test coverage"
        ],
        "intentPatterns": [
          "(write|add|create|implement).*?(test|tests)",
          "(test|tests).*?(for|coverage)",
          "pytest.*?(fixture|test|run)",
          "(mock|patch|MagicMock|AsyncMock)",
          "(unit|integration).*?test",
          "test_.*?\\.py",
          "tests/.*",
          "(review|check).*?test"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/test_*.py",
          "**/tests/**/*.py",
          "**/tests/fixtures.py"
        ]
      }
    },
    "pyenv-activation": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "medium",
      "description": "Guide for activating pyenv virtual environments with troubleshooting for common issues",
      "promptTriggers": {
        "keywords": [
          "pyenv",
          "pyenv activate",
          "virtualenv",
          "python environment",
          "activate environment",
          "pyenv-virtualenv"
        ],
        "intentPatterns": [
          "(activate|use|switch).*?(pyenv|virtualenv|environment)",
          "pyenv.*?(activate|init|shell)",
          "(python|pip).*?(version|environment)",
          "virtualenv.*?(activate|create|load)"
        ]
      }
    },
    "opencode-plugin-builder": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Guide for creating, modifying, or debugging OpenCode plugins with hooks, events, and SDK methods",
      "promptTriggers": {
        "keywords": [
          "plugin",
          "opencode plugin",
          "create plugin",
          "write plugin",
          "plugin hook",
          "plugin event",
          "tool.execute",
          "chat.message",
          "session.created",
          "session.idle"
        ],
        "intentPatterns": [
          "(create|write|build|make).*?plugin",
          "plugin.*?(hook|event|tool)",
          "(extend|customize).*?opencode",
          "(intercept|modify).*?(message|tool|session)",
          "client\\.session",
          "event\\.type",
          "@opencode-ai/(plugin|sdk)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/plugin/*.js",
          "**/plugin/*.ts",
          "**/.opencode/plugin/*"
        ]
      }
    }
  },
  "settings": {
    "enableFileTriggers": true,
    "showMatchDetails": true,
    "maxSkillsToSuggest": 3
  },
  "notes": {
    "enforcement_types": {
      "suggest": "Skill suggestion appears but doesn't block execution",
      "block": "Requires skill to be used before proceeding (guardrail)",
      "warn": "Shows warning but allows proceeding",
      "critical": "MUST be used - process skills that enforce discipline"
    },
    "priority_levels": {
      "critical": "Highest - Always trigger when matched (process skills)",
      "high": "Important - Trigger for most matches (domain skills)",
      "medium": "Moderate - Trigger for clear matches",
      "low": "Optional - Trigger only for explicit matches"
    },
    "skill_types": {
      "process": "Cross-cutting behavioral discipline skills (debugging, verification, brainstorming). These should trigger BEFORE domain skills and establish HOW to approach work.",
      "domain": "Task-specific implementation skills (mcp-builder, jira-creator, etc.). These provide specialized knowledge for specific domains."
    },
    "skill_priority_order": "When multiple skills match: 1) Process skills first (HOW to approach), 2) Domain skills second (WHAT to build)"
  }
}
